<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalVoice - P2P Мессенджер</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Верхняя панель с вкладками -->
    <div class="tabs-container">
        <div class="tabs-header">
            <div class="tab active" data-tab="call">
                <i class="fas fa-phone-alt"></i>
                <span>Звонок</span>
            </div>
            <div class="tab" data-tab="chat">
                <i class="fas fa-comments"></i>
                <span>Чат</span>
            </div>
            <div class="tab" data-tab="users">
                <i class="fas fa-users"></i>
                <span>Участники</span>
            </div>
            <div class="tab" data-tab="files">
                <i class="fas fa-folder"></i>
                <span>Файлы</span>
            </div>
            <div class="tab" data-tab="settings">
                <i class="fas fa-cog"></i>
                <span>Настройки</span>
            </div>
            <div class="tab-actions">
                <div class="connection-status">
                    <div class="status-dot" id="status-dot"></div>
                    <span id="status-text">Отключен</span>
                </div>
            </div>
        </div>
        
        <div class="tabs-content">
            <!-- Вкладка ЗВОНОК -->
            <div class="tab-content active" id="call-tab">
                <div class="call-container">
                    <div class="call-header">
                        <div class="call-info">
                            <h2><i class="fas fa-phone-alt"></i> Голосовой чат</h2>
                            <div class="call-stats">
                                <span class="stat-item">
                                    <i class="fas fa-users"></i>
                                    <span id="user-count">1</span>/10
                                </span>
                                <span class="stat-item">
                                    <i class="fas fa-signal"></i>
                                    <span id="connection-quality">Отличное</span>
                                </span>
                                <span class="stat-item">
                                    <i class="fas fa-clock"></i>
                                    <span id="call-timer">00:00</span>
                                </span>
                            </div>
                        </div>
                        
                        <div class="call-actions">
                            <button class="btn-action" id="invite-btn">
                                <i class="fas fa-user-plus"></i>
                                Пригласить
                            </button>
                            <button class="btn-action btn-create-room" id="create-room-btn">
                                <i class="fas fa-plus-circle"></i>
                                Создать комнату
                            </button>
                            <button class="btn-action btn-join-room" id="join-room-btn">
                                <i class="fas fa-sign-in-alt"></i>
                                Присоединиться
                            </button>
                        </div>
                    </div>

                    <!-- Видео сетка -->
                    <div class="video-grid" id="video-grid">
                        <div class="video-user local-user">
                            <div class="video-wrapper">
                                <video id="local-video" autoplay muted playsinline></video>
                                <div class="user-info-overlay">
                                    <span class="user-name" id="local-user-name">Вы</span>
                                    <div class="user-status">
                                        <i class="fas fa-microphone" id="mic-status-icon"></i>
                                        <i class="fas fa-volume-up" id="speaker-status-icon"></i>
                                        <i class="fas fa-video" id="video-status-icon"></i>
                                    </div>
                                </div>
                                <div class="user-controls">
                                    <button class="control-btn mic-control" id="mic-control">
                                        <i class="fas fa-microphone"></i>
                                    </button>
                                    <button class="control-btn video-control" id="video-control">
                                        <i class="fas fa-video"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Удаленные пользователи будут добавляться здесь -->
                        <div class="video-placeholder" id="remote-users-placeholder">
                            <i class="fas fa-user-plus"></i>
                            <p>Ожидание участников...</p>
                        </div>
                    </div>

                    <!-- Панель управления звонком -->
                    <div class="call-controls-panel">
                        <button class="call-control-btn large mic-btn active" id="mic-toggle">
                            <i class="fas fa-microphone"></i>
                            <span>Микрофон</span>
                        </button>
                        
                        <button class="call-control-btn large speaker-btn active" id="speaker-toggle">
                            <i class="fas fa-volume-up"></i>
                            <span>Динамики</span>
                        </button>
                        
                        <button class="call-control-btn video-btn" id="video-toggle">
                            <i class="fas fa-video"></i>
                            <span>Камера</span>
                        </button>
                        
                        <button class="call-control-btn screen-btn" id="screen-toggle">
                            <i class="fas fa-desktop"></i>
                            <span>Экран</span>
                        </button>
                        
                        <button class="call-control-btn record-btn" id="record-btn">
                            <i class="fas fa-circle"></i>
                            <span>Запись</span>
                        </button>
                        
                        <button class="call-control-btn end-call-btn" id="end-call-btn">
                            <i class="fas fa-phone-slash"></i>
                            <span>Завершить</span>
                        </button>
                    </div>

                    <!-- Информация о соединении -->
                    <div class="connection-info">
                        <div class="info-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>P2P • Шифрование включено</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-bolt"></i>
                            <span>Задержка: <span id="latency">-</span> мс</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-info-circle"></i>
                            <span>Комната: <span id="current-room">Не подключен</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Вкладка ЧАТ -->
            <div class="tab-content" id="chat-tab">
                <div class="chat-container">
                    <div class="chat-header">
                        <h3><i class="fas fa-comments"></i> Текстовый чат</h3>
                        <div class="chat-actions">
                            <button class="btn-icon" id="clear-chat-btn" title="Очистить чат">
                                <i class="fas fa-trash"></i>
                            </button>
                            <button class="btn-icon" id="export-chat-btn" title="Сохранить историю">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="chat-messages-container">
                        <div class="chat-messages" id="chat-messages">
                            <div class="system-message welcome">
                                <i class="fas fa-rocket"></i>
                                <div class="message-content">
                                    <strong>Добро пожаловать в P2P мессенджер!</strong>
                                    <p>Создайте комнату или присоединитесь к существующей, чтобы начать общение.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-input-area">
                            <div class="input-actions">
                                <button class="btn-icon" id="emoji-btn" title="Смайлы">
                                    <i class="far fa-smile"></i>
                                </button>
                                <button class="btn-icon" id="attach-btn" title="Прикрепить файл">
                                    <i class="fas fa-paperclip"></i>
                                </button>
                            </div>
                            <input type="text" 
                                   id="chat-input" 
                                   placeholder="Введите сообщение..." 
                                   maxlength="500">
                            <button class="btn-send" id="send-btn">
                                <i class="fas fa-paper-plane"></i>
                                Отправить
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Вкладка УЧАСТНИКИ -->
            <div class="tab-content" id="users-tab">
                <div class="users-container">
                    <div class="users-header">
                        <h3><i class="fas fa-users"></i> Участники онлайн</h3>
                        <div class="users-search">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Поиск участников..." id="users-search">
                        </div>
                    </div>
                    
                    <div class="users-list" id="online-users">
                        <!-- Список участников будет здесь -->
                    </div>
                    
                    <div class="users-actions">
                        <button class="btn-action" id="invite-user-btn">
                            <i class="fas fa-user-plus"></i>
                            Пригласить пользователя
                        </button>
                        <button class="btn-action" id="copy-room-link-btn">
                            <i class="fas fa-link"></i>
                            Копировать ссылку
                        </button>
                    </div>
                    
                    <div class="room-info-panel">
                        <h4><i class="fas fa-info-circle"></i> Информация о комнате</h4>
                        <div class="room-info-content">
                            <div class="info-row">
                                <span class="info-label">ID комнаты:</span>
                                <span class="info-value" id="room-id-display">Не создана</span>
                                <button class="btn-icon small" id="copy-room-id-btn">
                                    <i class="far fa-copy"></i>
                                </button>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Ваш ID:</span>
                                <span class="info-value" id="user-id-display">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Статус:</span>
                                <span class="info-value status-badge" id="room-status">Неактивна</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Вкладка ФАЙЛЫ -->
            <div class="tab-content" id="files-tab">
                <div class="files-container">
                    <div class="files-header">
                        <h3><i class="fas fa-folder"></i> Обмен файлами</h3>
                        <div class="files-stats">
                            <span id="files-count">0 файлов</span>
                            <span id="files-size">0 МБ</span>
                        </div>
                    </div>
                    
                    <div class="files-drop-area" id="files-drop-area">
                        <div class="drop-zone-content">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h4>Перетащите файлы сюда</h4>
                            <p>или нажмите для выбора</p>
                            <input type="file" id="file-input" multiple style="display: none;">
                            <button class="btn-select-files" id="select-files-btn">
                                <i class="fas fa-folder-open"></i>
                                Выбрать файлы
                            </button>
                        </div>
                    </div>
                    
                    <div class="files-list-container">
                        <div class="files-list-header">
                            <span>Имя файла</span>
                            <span>Размер</span>
                            <span>Статус</span>
                            <span>Действия</span>
                        </div>
                        <div class="files-list" id="files-list">
                            <!-- Список файлов будет здесь -->
                        </div>
                    </div>
                    
                    <div class="files-settings">
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="auto-accept-files" checked>
                                Автоприём файлов
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="save-files" checked>
                                Сохранять файлы локально
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Вкладка НАСТРОЙКИ -->
            <div class="tab-content" id="settings-tab">
                <div class="settings-container">
                    <div class="settings-header">
                        <h3><i class="fas fa-cog"></i> Настройки</h3>
                    </div>
                    
                    <div class="settings-sections">
                        <!-- Профиль -->
                        <div class="settings-section">
                            <h4><i class="fas fa-user"></i> Профиль</h4>
                            <div class="profile-settings">
                                <div class="profile-avatar-large">
                                    <i class="fas fa-user"></i>
                                    <button class="btn-change-avatar" id="change-avatar-btn">
                                        <i class="fas fa-camera"></i>
                                    </button>
                                </div>
                                <div class="profile-details">
                                    <div class="input-group">
                                        <label>Имя пользователя</label>
                                        <input type="text" id="username-input" 
                                               placeholder="Введите ваше имя"
                                               maxlength="20">
                                    </div>
                                    <div class="user-id-display">
                                        <label>Ваш ID:</label>
                                        <span id="settings-user-id">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Аудио/Видео -->
                        <div class="settings-section">
                            <h4><i class="fas fa-microphone"></i> Устройства</h4>
                            <div class="device-settings">
                                <div class="input-group">
                                    <label>Микрофон</label>
                                    <select id="audio-input-device">
                                        <option value="">Автовыбор</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label>Динамики</label>
                                    <select id="audio-output-device">
                                        <option value="">Автовыбор</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label>Камера</label>
                                    <select id="video-input-device">
                                        <option value="">Автовыбор</option>
                                    </select>
                                </div>
                                <div class="device-test">
                                    <button class="btn-test" id="test-audio-btn">
                                        <i class="fas fa-volume-up"></i>
                                        Тест звука
                                    </button>
                                    <button class="btn-test" id="test-video-btn">
                                        <i class="fas fa-video"></i>
                                        Тест камеры
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Соединение -->
                        <div class="settings-section">
                            <h4><i class="fas fa-network-wired"></i> Соединение</h4>
                            <div class="connection-settings">
                                <div class="checkbox-group">
                                    <label>
                                        <input type="checkbox" id="auto-connect" checked>
                                        Автоподключение при запуске
                                    </label>
                                </div>
                                <div class="checkbox-group">
                                    <label>
                                        <input type="checkbox" id="enable-video" checked>
                                        Включать камеру по умолчанию
                                    </label>
                                </div>
                                <div class="checkbox-group">
                                    <label>
                                        <input type="checkbox" id="enable-notifications" checked>
                                        Уведомления о сообщениях
                                    </label>
                                </div>
                                <div class="checkbox-group">
                                    <label>
                                        <input type="checkbox" id="enable-sounds" checked>
                                        Звуковые уведомления
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Интерфейс -->
                        <div class="settings-section">
                            <h4><i class="fas fa-palette"></i> Интерфейс</h4>
                            <div class="interface-settings">
                                <div class="theme-selector">
                                    <label>Тема:</label>
                                    <div class="theme-buttons">
                                        <button class="theme-btn active" data-theme="dark">
                                            <i class="fas fa-moon"></i> Тёмная
                                        </button>
                                        <button class="theme-btn" data-theme="light">
                                            <i class="fas fa-sun"></i> Светлая
                                        </button>
                                        <button class="theme-btn" data-theme="blue">
                                            <i class="fas fa-tint"></i> Синяя
                                        </button>
                                    </div>
                                </div>
                                <div class="checkbox-group">
                                    <label>
                                        <input type="checkbox" id="compact-mode">
                                        Компактный режим
                                    </label>
                                </div>
                                <div class="checkbox-group">
                                    <label>
                                        <input type="checkbox" id="show-timestamps" checked>
                                        Показывать время в чате
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-actions">
                        <button class="btn-save" id="save-settings-btn">
                            <i class="fas fa-save"></i>
                            Сохранить настройки
                        </button>
                        <button class="btn-reset" id="reset-settings-btn">
                            <i class="fas fa-redo"></i>
                            Сбросить настройки
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальные окна -->
    <div class="modal" id="room-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-door-open"></i> Управление комнатой</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Контент модального окна -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>